<div class="dashboard-container">
  <div class="dashboard-layout">
    <!-- Profile Header - Left Side -->
    <div class="profile-sidebar">
      <div class="profile-card">
        <div class="profile-info">
          <div class="avatar-wrapper">
            <img src="assets/images/default-avatar.png" alt="User Profile">
            <div class="status-badge online"></div>
          </div>
          <div class="user-details">
            <h2>{{userName}}</h2>
            <p class="member-info">Member since {{memberSince | date:'MMMM yyyy'}}</p>
            <div class="contact-info">
              <span><i class="fas fa-envelope"></i> {{email}}</span>
              <span><i class="fas fa-phone"></i> {{phoneNumber}}</span>
            </div>
          </div>
          <div class="stats-container">
            <div class="stat-card">
              <div class="stat-value">{{totalBookings}}</div>
              <div class="stat-label">Total Bookings</div>
            </div>
          </div>
        </div>

        <!-- Add this new logout section -->
        <div class="logout-section">
          <button class="logout-btn">
            <span>Logout</span>
            <i class="fas fa-sign-out-alt"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Main Content Area - Right Side -->
    <div class="main-content">
      <!-- Navigation Tabs - Top -->
      <div class="nav-tabs">
        <button class="nav-tab" [class.active]="activeTab === 'flights'" (click)="setActiveTab('flights')">
          <i class="fas fa-plane"></i>
          <span>Flights</span>
        </button>
        <button class="nav-tab" [class.active]="activeTab === 'hotels'" (click)="setActiveTab('hotels')">
          <i class="fas fa-hotel"></i>
          <span>Hotels</span>
        </button>
        <button class="nav-tab" [class.active]="activeTab === 'cabs'" (click)="setActiveTab('cabs')">
          <i class="fas fa-taxi"></i>
          <span>Cabs</span>
        </button>
        <button class="nav-tab" [class.active]="activeTab === 'tours'" (click)="setActiveTab('tours')">
          <i class="fas fa-map-marked-alt"></i>
          <span>Tours</span>
        </button>
        <button class="nav-tab" [class.active]="activeTab === 'visa'" (click)="setActiveTab('visa')">
          <i class="fas fa-passport"></i>
          <span>Visa</span>
        </button>
      </div>

      <!-- Tab Content - Below Tabs -->
      <div class="tab-content" [ngSwitch]="activeTab">
        <!-- Flights Tab -->
        <div *ngSwitchCase="'flights'" class="content-section animate-fade">
          

          <!-- Search and Filter Section -->
          <div class="search-filter-section">
            <div class="search-box">
              <i class="fas fa-search"></i>
              <input 
                type="text" 
                placeholder="Search by flight number, destination..." 
                [(ngModel)]="searchTerm"
                (input)="filterFlights()"
              >
            </div>
            <div class="filter-options">
              <select [(ngModel)]="filterStatus" (change)="filterFlights()">
                <option value="all">All Status</option>
                <option value="confirmed">Confirmed</option>
                <option value="pending">Pending</option>
                <option value="cancelled">Cancelled</option>
              </select>
              <input 
                type="date" 
                [(ngModel)]="filterDate"
                (change)="filterFlights()"
              >
            </div>
          </div>
          <div class="booking-cards">
            <div class="booking-card" *ngFor="let flight of paginatedFlights">
              <div class="card-header">
                <div class="airline-info">
                  <i class="fas fa-plane"></i>
                  <span>{{flight.airline}}</span>
                </div>
                <div class="status-badge" [class]="getStatusClass(flight.status)">
                  {{flight.status}}
                </div>
              </div>
              
              <div class="flight-route">
                <div class="route-point">
                  <div class="time">{{flight.departureTime}}</div>
                  <div class="city">{{flight.from}}</div>
                </div>
                <div class="route-line">
                  <div class="plane-icon">âœˆ</div>
                </div>
                <div class="route-point">
                  <div class="time">{{flight.arrivalTime}}</div>
                  <div class="city">{{flight.to}}</div>
                </div>
              </div>
              
              <div class="card-footer">
                <div class="details">
                  <span><i class="fas fa-calendar"></i> {{flight.date | date}}</span>
                  <span><i class="fas fa-users"></i> {{flight.passengers}} Passengers</span>
                  <span class="price">{{formatPrice(flight.price)}}</span>
                </div>
                <button class="action-btn">View Details</button>
              </div>
            </div>
          </div>

          <!-- Pagination -->
          <div class="pagination" *ngIf="totalPages > 1">
            <button 
              class="page-btn" 
              [disabled]="currentPage === 1"
              (click)="changePage(currentPage - 1)">
              Previous
            </button>

            <button 
              class="page-btn" 
              *ngFor="let page of pageNumbers"
              [class.active]="page === currentPage"
              (click)="changePage(page)">
              {{page}}
            </button>

            <button 
              class="page-btn" 
              [disabled]="currentPage === totalPages"
              (click)="changePage(currentPage + 1)">
              Next
            </button>
          </div>
        </div>

        <!-- Hotels Tab Content -->
        <div *ngSwitchCase="'hotels'" class="content-section animate-fade">
          <!-- Search and Filter Section -->
          <div class="search-filter-section">
            <div class="search-box">
              <i class="fas fa-search"></i>
              <input 
                type="text" 
                placeholder="Search hotels by name, location..." 
                [(ngModel)]="hotelSearchTerm"
                (input)="filterHotels()"
              >
            </div>
            <div class="filter-options">
              <select [(ngModel)]="hotelFilterStatus" (change)="filterHotels()">
                <option value="all">All Status</option>
                <option value="confirmed">Confirmed</option>
                <option value="pending">Pending</option>
                <option value="cancelled">Cancelled</option>
              </select>
              <input 
                type="date" 
                [(ngModel)]="hotelFilterDate"
                (change)="filterHotels()"
              >
            </div>
          </div>

          <!-- Hotel Cards -->
          <div class="booking-cards hotel-cards">
            <div class="booking-card hotel-card" *ngFor="let hotel of paginatedHotels">
              <div class="hotel-image">
                <img [src]="hotel.image" [alt]="hotel.name">
                <span class="status-badge" [class]="getStatusClass(hotel.status)">
                  {{hotel.status}}
                </span>
              </div>

              <div class="hotel-info">
                <div class="hotel-header">
                  <h3>{{hotel.name}}</h3>
                  <div class="rating">
                    <i class="fas fa-star"></i>
                    <span>{{hotel.rating}}</span>
                  </div>
                </div>

                <div class="hotel-location">
                  <i class="fas fa-map-marker-alt"></i>
                  <span>{{hotel.location}}</span>
                </div>

                <div class="hotel-details">
                  <div class="detail-item">
                    <i class="fas fa-bed"></i>
                    <span>{{hotel.roomType}}</span>
                  </div>
                  <div class="detail-item">
                    <i class="fas fa-users"></i>
                    <span>{{hotel.guests}} Guests</span>
                  </div>
                  <div class="detail-item">
                    <i class="fas fa-moon"></i>
                    <span>{{hotel.nights}} Nights</span>
                  </div>
                </div>

                <div class="amenities">
                  <span *ngFor="let amenity of hotel.amenities">
                    <i class="fas fa-check"></i> {{amenity}}
                  </span>
                </div>
              </div>

              <div class="hotel-footer">
                <div class="stay-dates">
                  <div class="date-group">
                    <small>Check In</small>
                    <span>{{hotel.checkIn | date}}</span>
                  </div>
                  <i class="fas fa-arrow-right"></i>
                  <div class="date-group">
                    <small>Check Out</small>
                    <span>{{hotel.checkOut | date}}</span>
                  </div>
                </div>

                <div class="price-action">
                  <div class="price">
                    <small>Total Price</small>
                    <span>{{formatPrice(hotel.price)}}</span>
                  </div>
                  <button class="action-btn">
                    <span>View Details</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Pagination -->
          <div class="pagination" *ngIf="totalHotelPages > 1">
            <button 
              class="page-btn" 
              [disabled]="currentHotelPage === 1"
              (click)="changeHotelPage(currentHotelPage - 1)">
              Previous
            </button>

            <button 
              class="page-btn" 
              *ngFor="let page of hotelPageNumbers"
              [class.active]="page === currentHotelPage"
              (click)="changeHotelPage(page)">
              {{page}}
            </button>

            <button 
              class="page-btn" 
              [disabled]="currentHotelPage === totalHotelPages"
              (click)="changeHotelPage(currentHotelPage + 1)">
              Next
            </button>
          </div>
        </div>

        <!-- Cabs Tab Content -->
        <div *ngSwitchCase="'cabs'" class="content-section animate-fade">
          <!-- Search and Filter Section -->
          <div class="search-filter-section">
            <div class="search-box">
              <i class="fas fa-search"></i>
              <input 
                type="text" 
                placeholder="Search by location, driver..." 
                [(ngModel)]="cabSearchTerm"
                (input)="filterCabs()"
              >
            </div>
            <div class="filter-options">
              <select [(ngModel)]="cabFilterStatus" (change)="filterCabs()">
                <option value="all">All Status</option>
                <option value="confirmed">Confirmed</option>
                <option value="pending">Pending</option>
                <option value="cancelled">Cancelled</option>
              </select>
              <input 
                type="date" 
                [(ngModel)]="cabFilterDate"
                (change)="filterCabs()"
              >
            </div>
          </div>

          <!-- Cab Cards -->
          <div class="booking-cards cab-cards">
            <div class="booking-card cab-card" *ngFor="let cab of paginatedCabs">
              <div class="cab-info">
                <div class="vehicle-type">
                  <i class="fas fa-car"></i>
                  <span>{{cab.vehicleType}}</span>
                </div>
                <div class="status-badge" [class]="getStatusClass(cab.status)">
                  {{cab.status}}
                </div>
              </div>

              <div class="journey-details">
                <div class="location-point">
                  <i class="fas fa-map-marker-alt pickup"></i>
                  <div class="location-info">
                    <small>Pickup</small>
                    <span>{{cab.pickupLocation}}</span>
                  </div>
                </div>
                <div class="journey-line">
                  <div class="journey-stats">
                    <span class="distance">{{cab.distance}}</span>
                    <span class="duration">{{cab.duration}}</span>
                  </div>
                </div>
                <div class="location-point">
                  <i class="fas fa-map-marker-alt dropoff"></i>
                  <div class="location-info">
                    <small>Drop-off</small>
                    <span>{{cab.dropLocation}}</span>
                  </div>
                </div>
              </div>

              <div class="driver-info">
                <div class="driver-details">
                  <i class="fas fa-user-circle"></i>
                  <div class="info">
                    <span class="name">{{cab.driver.name}}</span>
                    <div class="rating">
                      <i class="fas fa-star"></i>
                      <span>{{cab.driver.rating}}</span>
                    </div>
                  </div>
                </div>
                <div class="vehicle-number">{{cab.driver.vehicleNumber}}</div>
              </div>

              <div class="card-footer">
                <div class="details">
                  <span><i class="fas fa-calendar"></i> {{cab.date | date}}</span>
                  <span><i class="fas fa-clock"></i> {{cab.time}}</span>
                  <span class="price">{{formatPrice(cab.price)}}</span>
                </div>
                <button class="action-btn">
                  <span>View Details</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Pagination -->
          <div class="pagination" *ngIf="totalCabPages > 1">
            <button 
              class="page-btn" 
              [disabled]="currentCabPage === 1"
              (click)="changeCabPage(currentCabPage - 1)">
              Previous
            </button>

            <button 
              class="page-btn" 
              *ngFor="let page of cabPageNumbers"
              [class.active]="page === currentCabPage"
              (click)="changeCabPage(page)">
              {{page}}
            </button>

            <button 
              class="page-btn" 
              [disabled]="currentCabPage === totalCabPages"
              (click)="changeCabPage(currentCabPage + 1)">
              Next
            </button>
          </div>
        </div>

        <!-- Similar structure for other tabs -->
      </div>
    </div>
  </div>
</div>
